<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PipelineLens Modular ‚Äî PRF + Dual RAT</title>

<!-- Genel stil -->
<link rel="stylesheet" href="assets/style.css">

<style>
/* Basit fallback renkler */
body { font-family: Inter, sans-serif; margin: 0; background: #0b0f14; color: #e8eef6; }
.card { background: #121822; border: 1px solid #202a39; border-radius: 10px; padding: 12px; margin-bottom: 16px; }
h3 { font-size: 14px; margin: 0 0 8px 0; color: #9fb0c3; }
.small { font-size: 12px; color: #9fb0c3; }
.mono { font-family: monospace; }
.kv { display: flex; flex-wrap: wrap; gap: 6px; }
.kv div { background: #1a2230; border: 1px solid #223049; border-radius: 8px; padding: 6px 8px; font-size: 12px; }
.badge { padding: 2px 6px; border-radius: 6px; border: 1px solid #223049; font-size: 11px; }
.b-exec { background: #0f213b; color: #67d2ff; }
.b-wb { background: #0f3b25; color: #6ee7a8; }
.b-stall { background: #3b1010; color: #ff6b6b; }
.b-commit { background: #29113b; color: #a47de8; }
.toast { position: fixed; right: 24px; bottom: 96px; background: rgba(0,0,0,0.75); color: #fff; padding: 8px 12px; border-radius: 8px; font-size: 12px; opacity: 0; animation: fade 2.6s forwards; }
@keyframes fade { 0%{opacity:0;transform:translateY(10px);} 10%{opacity:1;transform:translateY(0);} 90%{opacity:1;} 100%{opacity:0;} }
button { background:#1a2230; color:#e8eef6; border:1px solid #223049; border-radius:8px; padding:6px 10px; cursor:pointer; }
button.primary{background:#67d2ff;color:#000;}
</style>
</head>

<body>
<header style="padding:12px 16px;border-bottom:1px solid #223049;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;">
  <div>
    <h1 style="font-size:18px;margin:0;">PipelineLens Modular</h1>
    <div class="small">PRF + Dual RAT + Rename Panel</div>
  </div>
  <div>
    <button id="btnTheme">üåô / ‚òÄÔ∏è</button>
    <button id="btnReset" class="primary">Reset ‚Ü∫</button>
  </div>
</header>

<main style="padding:16px;">
  <div id="programSection" class="card">
    <h3>Program & Controls</h3>
    <textarea id="prog" rows="6" style="width:100%;background:#0d131b;color:#e8eef6;border:1px solid #223049;border-radius:6px;padding:8px;">MUL R1, R2 -> R3
ADD R3, R4 -> R5
ADD R2, R6 -> R7
ADD R8, R9 -> R10
MUL R7, R10 -> R11
ADD R5, R11 -> R5</textarea>
    <div style="margin-top:8px;">
      <button id="btnLoad">Load Program</button>
      <button id="btnStep" class="primary">Step ‚ñ∂</button>
      <button id="btnAuto">Auto ‚ñ∑</button>
      <button id="btnOpenRename">Rename Panel</button>
      <select id="speed">
        <option value="700">√ó1</option>
        <option value="350">√ó2</option>
        <option value="175">√ó4</option>
      </select>
    </div>
  </div>

  <!-- Paneller buraya y√ºklenecek -->
  <div id="rsPanel"></div>
  <div id="robPanel"></div>
  <div id="prfPanel"></div>
  <div id="ratPanel"></div>
  <div id="renameContainer"></div>

  <div class="card">
    <h3>Cycle Log</h3>
    <div id="log" class="mono small"></div>
  </div>
</main>

<script src="assets/core.js"></script>
<script>
/* === Panel Y√ºkleyici === */
async function loadPanels() {
  const panels = ["rs","rob","prf","rat","rename"];
  for (const p of panels) {
    const html = await fetch("components/" + p + ".html").then(r => r.text());
    document.getElementById(p + (p==="rename"?"Container":"Panel")).innerHTML = html;
  }
  console.log("T√ºm paneller y√ºklendi.");
}

/* === Basit ba≈ülatma === */
window.addEventListener("DOMContentLoaded", async () => {
  await loadPanels();
  console.log("PipelineLens hazƒ±r.");
});
</script>

</body>
</html>
